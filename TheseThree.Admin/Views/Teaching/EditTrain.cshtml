@using TheseThree.Admin.Models.ViewModels
@model IEnumerable<CommonEntityViewModel>
<link href="~/Content/bootstrap-datetimepicker.min.css" rel="stylesheet" />
<link href="~/Scripts/uploadify/uploadify.css" rel="stylesheet" />
<div class="panel-body" style="padding-bottom: 0">
    <input type="hidden" id="trainid" value="@ViewBag.TrainId" />
    <div class="panel panel-default">
        <div class="panel-heading">培训基本信息</div>
        <div class="panel-body">
            <div class="form-inline">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon">培训名称</div>
                        <input type="text" class="form-control" id="txt_name" placeholder="培训名称" style="width: 230px;" value="@ViewBag.Zhuti">
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon">培训时间</div>
                        <input type="text" class="form-control" id="txt_time" data-date-format="yyyy-mm-dd hh:ii:ss" placeholder="时间" style="width: 230px;" value="@ViewBag.Time">
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon">&nbsp;&nbsp;主讲人&nbsp;&nbsp;</div>
                        <input type="text" class="form-control" id="txt_teacher" placeholder="主讲人" style="width: 230px;" value="@ViewBag.Teacher">
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon">培训地点</div>
                        <input type="text" class="form-control" id="txt_address" placeholder="培训地点" style="width: 230px;" value="@ViewBag.Address">
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon">获得学分</div>
                        <input type="text" class="form-control" id="txt_score" placeholder="学分" style="width: 230px;" value="@ViewBag.Score">
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon">主办单位</div>
                        <input type="text" class="form-control" id="txt_org" placeholder="主办单位" style="width: 230px;" value="@ViewBag.Org">
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon">培训类型</div>
                        <select class="form-control" id="txt_traintype" style="width: 230px;">
                            <option value="0">院内培训</option>
                            <option value="1">院外培训</option>
                        </select>
                    </div>
                    <div class="input-group" style="float: right;">
                        <button class="btn btn-default" id="btn_save_train">保存</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">培训详细信息</div>
        <div class="panel-body">
            <div id="toolbar" class="btn-group">
                <button id="btn_add" type="button" class="btn btn-default">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>新增
                </button>
            </div>
            <table id="trainDetailTable"></table>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">附件信息</div>
        <div class="panel-body">
            <div id="fjtoolbar" class="btn-group">
                <button id="btn_add_fj" type="button" class="btn btn-default">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>新增
                </button>
            </div>
            <table id="fjTable"></table>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">参加培训人员列表</div>
        <div class="panel-body">
            <div class="form-inline">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon">姓名</div>
                        <input type="text" class="form-control" id="txt_ks_name" placeholder="姓名" style="width: 230px;">
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon">工号</div>
                        <input type="text" class="form-control" id="txt_ks_loginId" placeholder="工号" style="width: 230px;">
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon">科室</div>
                        <select class="form-control" id="sel_dept" style="width: 230px;">
                            <option value="-1">请选择科室</option>
                            @{
                                if (Model != null)
                                {
                                    foreach (var m in Model.Where(it => it.Type.Equals("ks")))
                                    {
                                        <option value="@m.Value">@m.Name</option>
                                    }
                                }
                            }
                        </select>
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon">层级</div>
                        <select class="form-control" id="sel_level" style="width: 230px;">
                            <option value="-1">请选择层级</option>
                            @{
                                if (Model != null)
                                {
                                    foreach (var m in Model.Where(it => it.Type.Equals("lv")))
                                    {
                                        <option value="@m.Value">@m.Name</option>
                                    }
                                }
                            }
                        </select>
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon">职称</div>
                        <select class="form-control" id="sel_zhichen" style="width: 230px;">
                            <option value="-1">请选择职称</option>
                            @{
                                if (Model != null)
                                {
                                    foreach (var m in Model.Where(it => it.Type.Equals("zc")))
                                    {
                                        <option value="@m.Value">@m.Name</option>
                                    }
                                }
                            }
                        </select>
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon">职务</div>
                        <select class="form-control" id="sel_gangwei" style="width: 230px;">
                            <option value="-1">请选择职务</option>
                            @{
                                if (Model != null)
                                {
                                    foreach (var m in Model.Where(it => it.Type.Equals("gw")))
                                    {
                                        <option value="@m.Value">@m.Name</option>
                                    }
                                }
                            }
                        </select>
                    </div>
                    <div class="input-group">
                        <div class="input-group-addon">小组</div>
                        <select class="form-control" id="sel_team" style="width: 230px;">
                            <option value="-1">请选择小组</option>
                            @{
                                if (Model != null)
                                {
                                    foreach (var m in Model.Where(it => it.Type.Equals("xz")))
                                    {
                                        <option value="@m.Value">@m.Name</option>
                                    }
                                }
                            }
                        </select>
                    </div>
                    <div class="input-group">
                        <button class="btn btn-default" id="btn_kaos_query">查询</button>
                    </div>
                    <div class="input-group" style="float: right;">
                        <button class="btn btn-default" id="btn_kaos_add">添加</button>
                    </div>
                </div>
            </div>
            <br />
            <table id="ksTable"></table>
        </div>
    </div>
</div>
<div class="modal" id="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">新增</h4>
            </div>
            <div class="modal-body">
                <div class="form-inline">
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">&nbsp;&nbsp;课题&nbsp;&nbsp;</div>
                            <input type="text" class="form-control" id="txt_kc_title" placeholder="姓名" style="width: 230px;">
                        </div>
                        <div class="input-group">
                            <div class="input-group-addon">主讲人</div>
                            <input type="text" class="form-control" id="txt_kc_tec" placeholder="主讲人" style="width: 230px;">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="btn_save_train_detail">保存</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="kjmodal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">新增</h4>
            </div>
            <div class="modal-body">
                <div class="form-inline">
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">名称</div>
                            <input type="text" class="form-control" id="txt_kj_name" placeholder="名称" style="width: 230px;">
                        </div>
                        <div class="input-group">
                            <div class="input-group-addon">培训类型</div>
                            <select class="form-control" id="sel_kj_type" style="width: 230px;">
                                <option value="0">课件</option>
                                <option value="1">视频</option>
                            </select>
                        </div>
                        <input type="file" class="form-control" id="file_upload" name="file_upload" placeholder="请选择文件" style="width: 380px;">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="btn_save_train_kj">保存</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal" id="mymodal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myModalLabel">请选择</h4>
            </div>
            <div class="modal-body">
                <div class="form-inline">
                    <div class="form-group">
                        <label for="sel_user_ks">科室:</label>
                        <select type="text" class="form-control" id="sel_user_ks" style="width: 200px;">
                            <option value="-1">选择科室</option>
                            @{
                                if (Model != null)
                                {
                                    foreach (var m in Model.Where(it => it.Type.Equals("ks")))
                                    {
                                        <option value="@m.Value">@m.Name</option>
                                    }
                                }
                            }
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="sel_user_level">层级:</label>
                        <select type="text" class="form-control" id="sel_user_level" style="width: 200px;">
                            <option value="-1">选择层级</option>
                            @{
                                if (Model != null)
                                {
                                    foreach (var m in Model.Where(it => it.Type.Equals("lv")))
                                    {
                                        <option value="@m.Value">@m.Name</option>
                                    }
                                }
                            }
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="sel_user_zc">职称:</label>
                        <select type="text" class="form-control" id="sel_user_zc" style="width: 200px;">
                            <option value="-1">选择职称</option>
                            @{
                                if (Model != null)
                                {
                                    foreach (var m in Model.Where(it => it.Type.Equals("zc")))
                                    {
                                        <option value="@m.Value">@m.Name</option>
                                    }
                                }
                            }
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="sel_user_gw">职务:</label>
                        <select type="text" class="form-control" id="sel_user_gw" style="width: 200px;">
                            <option value="-1">选择职务</option>
                            @{
                                if (Model != null)
                                {
                                    foreach (var m in Model.Where(it => it.Type.Equals("gw")))
                                    {
                                        <option value="@m.Value">@m.Name</option>
                                    }
                                }
                            }
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="sel_user_gw">小组:</label>
                        <select type="text" class="form-control" id="sel_user_xz" style="width: 200px;">
                            <option value="-1">选择小组</option>
                            @{
                                if (Model != null)
                                {
                                    foreach (var m in Model.Where(it => it.Type.Equals("xz")))
                                    {
                                        <option value="@m.Value">@m.Name</option>
                                    }
                                }
                            }
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="txt_user_name">姓名:</label>
                        <input type="text" class="form-control" id="txt_user_name" placeholder="姓名" style="width: 200px;">
                    </div>
                    <div class="form-group">
                        <label for="txt_user_loginId">工号:</label>
                        <input type="text" class="form-control" id="txt_user_loginId" placeholder="工号" style="width: 200px;">
                    </div>
                    <div class="form-group">
                        <button type="button" class="btn btn-primary" id="btn_query">查询</button>
                    </div>
                </div>
                <hr />
                <table id="userTable"></table>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="btn_save">保存</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="~/Scripts/bootstrap-datetimepicker.min.js"></script>
<script src="~/Scripts/bootstrap-datetimepicker.zh-CN.js"></script>
<script src="~/Scripts/uploadify/jquery.uploadify.min.js"></script>
<script src="~/Scripts/trainedit.js"></script>